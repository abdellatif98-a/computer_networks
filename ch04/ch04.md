# ch04

---

## 2 Key Network-Layer Functions

- Forwarding
  - Local (moving a packet from a router's input to an appropriate output port, i.e. inside one router)
- Routing
  - Global (moving packets from one source to another destination over multiple different routers and hops)
- Routing Algorithm used to create the forwarding table in each router
  - ![routing and forwarding](https://github.com/chopchap/computer-networking/blob/main/images/routing%20and%20forwarding.png?raw=true)

## Virtual Circuit & Datagram Networks

- Virtual Circuits (ATM)
  - Call Setup/Teardown
  - VC Identifier
  - Router State
  - Resource Reservation
  - Forwading table in Virtual Circuit mode:
    - ![vc mode](https://github.com/chopchap/computer-networking/blob/main/images/vc%20mode.png?raw=true)
- Datagram Network (IP)
  - No Call Setup
  - No State Info in Routers
  - Packets Forwarded using Destination Address
  - Forwarding Table (longest prefix matching):
    - ![longest prefix matching](https://github.com/chopchap/computer-networking/blob/main/images/prefix%20matching.png?raw=true)
- Datagram vs. VC Network:
  - Designed for Computers vs. Designed for Telephones
  - Smart End Systems vs. Dumb End Systems
  - Simple Core vs. Complex Core
  - Many Link Types vs. Few Link Types

## Router Architecture

- Functions:
  - Routing
  - Forwarding
- Components:
  - Input Port
  - Switching Fabric
    - Buffering
    - Scheduling Policy
  - Output Port
  - Routing Processor

## IP Datagram Format and Fragmentation

- The Internet Network Layer
  - ![the Internet Network layer](https://github.com/chopchap/computer-networking/blob/main/images/the%20Internet%20network%20layer.png?raw=true)
- IP Datagram Format
  - ![IP datagram format](https://github.com/chopchap/computer-networking/blob/main/images/IP%20datagram%20format.png?raw=true)
- IP Fragmentation & Reassembly
  - MTU (1500 bytes normally)
  - Fragmentation
    - ![fragmentation](https://github.com/chopchap/computer-networking/blob/main/images/fragmentation.png?raw=true)
  - Reassembly

## IP Addressing

- IP Addresses
  - ![IP Addr](https://github.com/chopchap/computer-networking/blob/main/images/IP%20addr.png?raw=true)
- Subnet Mask (255.255.255.0 mask same as /24 notation above)
  - ![subnet mask](https://github.com/chopchap/computer-networking/blob/main/images/subnet%20mask.png?raw=true)
  - ![subnets](https://github.com/chopchap/computer-networking/blob/main/images/subnets.png?raw=true)
- 

